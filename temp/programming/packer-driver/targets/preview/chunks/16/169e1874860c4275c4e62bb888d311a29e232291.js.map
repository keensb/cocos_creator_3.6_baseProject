{"version":3,"sources":["file:///F:/creator/project_3/NewProject_36/assets/script/utils/GlabolImport.ts"],"names":["superSetter","currentClass","thisObj","type","value","values","_i","arguments","length","cla","prototype","seters","hasOwnProperty","Object","defineProperty","setF","apply","d","getPrototypeOf","getOwnPropertyDescriptor","set","superGetter","geters","getF","call","get"],"mappings":"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","sourcesContent":["//从egret引擎移植过来的 执行对super的setter操作\r\n//例如 ClassSuper 和 ClassSon 都实现了 set a(value:number)时  superSetter 可以实现调用原始的 a\r\nexport function superSetter(currentClass:any, thisObj:any, type:string, value:any) {\r\n    var values = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        values[_i - 3] = arguments[_i];\r\n    }\r\n    var cla = currentClass.prototype;\r\n    var seters;\r\n    if (!currentClass.hasOwnProperty(\"__sets__\")) {\r\n        Object.defineProperty(currentClass, \"__sets__\", { \"value\": {} });\r\n    }\r\n    seters = currentClass[\"__sets__\"];\r\n    var setF = seters[type];\r\n    if (setF) {\r\n        return setF.apply(thisObj, values);\r\n    }\r\n    var d = Object.getPrototypeOf(cla);\r\n    if (d == null) {\r\n        return;\r\n    }\r\n    while (!d.hasOwnProperty(type)) {\r\n        d = Object.getPrototypeOf(d);\r\n        if (d == null) {\r\n            return;\r\n        }\r\n    }\r\n    setF = Object.getOwnPropertyDescriptor(d, type).set;\r\n    seters[type] = setF;\r\n    setF.apply(thisObj, values);\r\n}\r\n\r\n\r\n//从egret引擎移植过来的 执行对super的getter操作\r\n//例如 ClassSuper 和 ClassSon 都实现了 get a():number时  superGetter 可以实现调用原始的 a\r\nexport function superGetter(currentClass:any, thisObj:any, type:string, value:any) {\r\n    var cla = currentClass.prototype;\r\n    var geters;\r\n    if (!currentClass.hasOwnProperty(\"__gets__\")) {\r\n        Object.defineProperty(currentClass, \"__gets__\", { \"value\": {} });\r\n    }\r\n    geters = currentClass[\"__gets__\"];\r\n    var getF = geters[type];\r\n    if (getF) {\r\n        return getF.call(thisObj);\r\n    }\r\n    var d = Object.getPrototypeOf(cla);\r\n    if (d == null) {\r\n        return;\r\n    }\r\n    while (!d.hasOwnProperty(type)) {\r\n        d = Object.getPrototypeOf(d);\r\n        if (d == null) {\r\n            return;\r\n        }\r\n    }\r\n    getF = Object.getOwnPropertyDescriptor(d, type).get;\r\n    geters[type] = getF;\r\n    return getF.call(thisObj);\r\n}\r\n\r\n\r\n\r\n"]}